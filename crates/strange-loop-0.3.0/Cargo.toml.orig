[package]
name = "strange-loop"
version = "0.3.0"
edition = "2021"
authors = ["rUv <ruv@ruv.io>"]
description = "Hyper-optimized strange loops with temporal consciousness and quantum-classical hybrid computing. NPX: npx strange-loops"
license = "MIT OR Apache-2.0"
repository = "https://github.com/ruvnet/sublinear-time-solver"
documentation = "https://docs.rs/strange-loop"
keywords = ["temporal", "consciousness", "quantum", "optimization", "strange-loop"]
categories = ["algorithms", "mathematics", "simulation", "science"]
readme = "README.md"

[lib]
name = "strange_loop"
crate-type = ["cdylib", "rlib"]

[[bin]]
name = "strange_loop_cli"
path = "src/bin/cli.rs"

[dependencies]
# Modern 2025 concurrent libraries (using stable versions)
# Note: Some 2025 libraries may not be available yet, using best current alternatives

# Enhanced concurrency
tokio = { version = "1.40", features = ["rt", "sync", "time", "macros"] }
rayon = { version = "1.10", optional = true }
crossbeam-utils = "0.8"
crossbeam-channel = "0.5"
num_cpus = "1.16"
nalgebra = { version = "0.32", features = ["serde-serialize"] }
num-complex = { version = "0.4", optional = true }
parking_lot = "0.12"
crossbeam = "0.8"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter"] }
once_cell = "1.19"
thiserror = "1.0"
rand = "0.8"
getrandom = { version = "0.2", features = ["js"] }
rand_distr = "0.4"
itertools = "0.12"
approx = "0.5"
wide = { version = "0.7", features = ["serde"], optional = true }

# WASM support
wasm-bindgen = { version = "0.2", optional = true, features = ["serde-serialize"] }
wasm-bindgen-futures = { version = "0.4", optional = true }
js-sys = { version = "0.3", optional = true }
web-sys = { version = "0.3", features = ["console"], optional = true }
console_error_panic_hook = { version = "0.1", optional = true }
wee_alloc = { version = "0.4", optional = true }

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
proptest = "1.4"
quickcheck = "1.0"
quickcheck_macros = "1.0"
tokio = { version = "1.0", features = ["full"] }

[features]
default = ["simd", "parallel", "quantum", "consciousness"]
wasm = ["wasm-bindgen", "wasm-bindgen-futures", "js-sys", "web-sys", "console_error_panic_hook", "wee_alloc", "getrandom/js"]
simd = ["wide"]
parallel = ["rayon"]
quantum = ["num-complex"]
consciousness = ["quantum"]
getrandom_js = ["getrandom/js"]

[[bench]]
name = "strange_loop_bench"
harness = false

[profile.release]
opt-level = 3
lto = "fat"
codegen-units = 1
panic = "abort"
overflow-checks = false

[profile.bench]
opt-level = 3
lto = "fat"
codegen-units = 1
debug = true

[package.metadata.wasm-pack.profile.release]
wasm-opt = ["-O4", "--enable-simd"]